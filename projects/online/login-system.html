<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Online Store</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" />
    <link rel="stylesheet" href="login-system.css">
</head>
<html>

<body>
    <div class="Logo-section">
        <div class="Logo-part">
            <div class="img-logo">
                <img src="./img/Untitled-2-removebg-preview.png">
            </div>
        </div>
        <div class="Menu-part">
            <a href="#" class="Home">Home</a>
            <div class="menu-container">
                <div class="menu-btn">Product</div>
                <ul class="menu-list">
                    <li>
                        <h1>Milk</h1>
                        <a href="./milk.html">
                            <div class="description">Olper , Pak Milk ,
                                NoorPur</div>
                        </a>
                    </li>
                    <li>
                        <h1>Washing </h1>
                        <div class="description">Arel, Expcel , Bouns, </div>
                    </li>
                    <li>
                        <h1>Washing </h1>
                        <div class="description">Arel, Expcel , Bouns, </div>
                    </li>
                    <li>
                        <h1>Washing </h1>
                        <div class="description">Arel, Expcel , Bouns, </div>
                    </li>
                    <li>
                        <h1>Washing </h1>
                        <div class="description">Arel, Expcel , Bouns, </div>
                    </li>
                    <li>
                        <h1>SoftDrink </h1>
                        <div class="description">Cola, Pepsi , ColaNext, </div>
                    </li>
                    <li>
                        <h1>Product </h1>
                        <div class="description">Cocomo, Oreo , LU, </div>
                    </li>
                </ul>
            </div>
            </a>
            <a href="#" class="Home">Shop</a>
            <a href="#" class="Home">Contact</a>
        </div>

        <div class="Profile-part">
            <a href="login-system.html">
            <div class="Profile">
                <i class="fa-regular fa-user"></i>
            </div>
            </a>
            <div class="Flag">
                <img src="./img/flag.png" height="20px">
            </div>
            <i class="fa-solid fa-location-dot"></i>
            <div class="search-wrapper">
                <input type="text" class="search-input" placeholder="Search...">
                <i class="fas fa-search"></i>
            </div>
            <div class="menu">
                <i class="fa-solid fa-bars">

                    </a>
                </i>
            </div>
        </div>
    </div>
    

    <div class="container" id="login-div">
        <div class="img">
        <img src="./img/Untitled-2-removebg-preview.png" height="20px">
        </div>
        <h2>Login</h2>
        <input type="text" id="username" placeholder="Enter Username">
        <input type="password" id="password" placeholder="Enter Password">
        <p class="error" id="login-error"></p>
        <button onclick="login()">Login</button>
    </div>

    <div class="container hidden" id="welcome-div">
        <h2>Welcome, <span id="display-username"></span>!</h2>
        <button onclick="showChangePassword()">Change Password</button>
        <button onclick="logout()">Logout</button>
    </div>

    <div class="container hidden" id="change-password-div">
        <h2>Change Password</h2>
        <input type="password" id="old-password" placeholder="Enter Old Password">
        <input type="password" id="new-password" placeholder="Enter New Password">
        <p class="error" id="password-error"></p>
        <button onclick="changePassword()">Submit</button>
        <button onclick="cancelChange()">Cancel</button>
    </div>

    <script>
        // Default credentials
        let storedUsername = "user";
        let storedPassword = "password";

        function login() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const loginError = document.getElementById('login-error');

            if (username === storedUsername && password === storedPassword) {
                document.getElementById('login-div').classList.add('hidden');
                document.getElementById('welcome-div').classList.remove('hidden');
                document.getElementById('display-username').innerText = username;
                loginError.innerText = "";
            } else {
                loginError.innerText = "Invalid username or password!";
            }
        }

        function logout() {
            document.getElementById('welcome-div').classList.add('hidden');
            document.getElementById('login-div').classList.remove('hidden');
            document.getElementById('username').value = "";
            document.getElementById('password').value = "";
        }

        function showChangePassword() {
            document.getElementById('welcome-div').classList.add('hidden');
            document.getElementById('change-password-div').classList.remove('hidden');
        }

        function cancelChange() {
            document.getElementById('change-password-div').classList.add('hidden');
            document.getElementById('welcome-div').classList.remove('hidden');
            document.getElementById('old-password').value = "";
            document.getElementById('new-password').value = "";
            document.getElementById('password-error').innerText = "";
        }

        function changePassword() {
            const oldPassword = document.getElementById('old-password').value;
            const newPassword = document.getElementById('new-password').value;
            const passwordError = document.getElementById('password-error');

            if (oldPassword === storedPassword) {
                storedPassword = newPassword;
                alert("Password changed successfully!");
                cancelChange();
            } else {
                passwordError.innerText = "Old password is incorrect!";
            }
        }
    </script>

</body>

</html>